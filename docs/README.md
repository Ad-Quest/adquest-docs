# Документация AdQuest

Этот документ описывает структуру и правила работы с документацией проекта AdQuest.

## Структура документации

```
src/content/docs/
├── index.mdx                    # Главная страница
├── adquest-widget/              # Документация виджета
│   ├── index.mdx
│   ├── api.mdx
│   ├── configuration.mdx
│   ├── patterns.mdx
│   └── gotchas.mdx
└── crm/                         # Документация CRM
    ├── index.mdx                # Обзор CRM
    ├── auth.mdx                 # Аутентификация
    ├── publisher.mdx            # Для издателей
    ├── advertiser.mdx           # Для рекламодателей
    └── agency.mdx               # Для агентств
```

## Компоненты

### Screenshot

Компонент для отображения скриншотов с автоматическим zoom.

**Использование:**

```mdx
import { Screenshot } from "~/components";

<Screenshot 
  src="/screenshots/dashboard.png" 
  alt="Описание изображения для accessibility"
  caption="Подпись под изображением (опционально)"
/>
```

**Параметры:**

- `src` (обязательный) - путь к изображению
- `alt` (обязательный) - альтернативный текст
- `caption` (опциональный) - подпись под изображением
- `width` (опциональный) - ширина в пикселях
- `height` (опциональный) - высота в пикселях

**Особенности:**

- Автоматический zoom по клику (через starlight-image-zoom)
- Lazy loading для оптимизации
- Адаптивный дизайн
- Поддержка темной темы

### LinkTitleCard

Карточка-ссылка для навигации между разделами.

**Использование:**

```mdx
import { LinkTitleCard } from "~/components";

<LinkTitleCard 
  title="Заголовок" 
  href="/path/to/page/"
>
  Описание раздела
</LinkTitleCard>
```

### Details

Раскрывающийся блок для дополнительной информации.

**Использование:**

```mdx
import { Details } from "~/components";

<Details header="Заголовок">
Содержимое, которое можно скрыть/показать
</Details>
```

## Размещение скриншотов

### Структура папки

```
public/
└── screenshots/
    ├── crm/
    │   ├── auth/
    │   │   ├── login-form.png
    │   │   └── register-form.png
    │   ├── publisher/
    │   │   ├── dashboard.png
    │   │   ├── add-site-form.png
    │   │   ├── sites-list.png
    │   │   └── statistics.png
    │   ├── advertiser/
    │   │   ├── campaigns.png
    │   │   └── budget.png
    │   └── agency/
    │       └── clients.png
    └── widget/
        ├── integration.png
        └── modes.png
```

### Требования к скриншотам

**Формат:**
- PNG для интерфейсов
- JPG для фотографий
- WebP для оптимизации (опционально)

**Размер:**
- Рекомендуемое разрешение: 1920x1080 или 2560x1440
- Максимальный размер файла: 500 KB
- Используйте сжатие (TinyPNG, ImageOptim)

**Качество:**
- Четкие, не размытые изображения
- Реальные данные или реалистичные моки
- Скрывайте чувствительную информацию
- Используйте светлую или темную тему последовательно

**Accessibility:**
- Всегда указывайте осмысленный `alt` текст
- Описывайте содержимое, а не "скриншот страницы"
- Используйте `caption` для дополнительного контекста

## Правила написания документации

### Стиль

- Пишите простым, понятным языком
- Избегайте технического жаргона где возможно
- Используйте активный залог
- Разбивайте длинные абзацы на короткие
- Используйте списки для перечислений

### Структура

- Начинайте с обзора
- Используйте заголовки для навигации
- Добавляйте примеры кода где уместно
- Включайте скриншоты для визуальных элементов
- Завершайте разделом "Частые вопросы"

### Форматирование

**Заголовки:**
```mdx
# H1 - Только для title страницы
## H2 - Основные разделы
### H3 - Подразделы
#### H4 - Детали
```

**Таблицы:**
```mdx
| Колонка 1 | Колонка 2 |
|-----------|-----------|
| Значение  | Значение  |
```

**Код:**
````mdx
```html
<code>Блок кода</code>
```

`Инлайн код`
````

**Предупреждения:**
```mdx
:::note[Заметка]
Информационное сообщение
:::

:::tip[Совет]
Полезный совет
:::

:::caution[Внимание]
Важное предупреждение
:::

:::danger[Опасность]
Критическое предупреждение
:::
```

### Ссылки

**Внутренние:**
```mdx
[Текст ссылки](/path/to/page/)
```

**Внешние:**
```mdx
[Текст ссылки](https://example.com)
```

**С якорем:**
```mdx
[Текст ссылки](/path/to/page/#anchor)
```

## Локальная разработка

### Установка

```bash
npm install
```

### Запуск dev сервера

```bash
npm run dev
```

Откройте http://localhost:1111

### Сборка

```bash
npm run build
```

### Предпросмотр production

```bash
npm run preview
```

## Проверка документации

### Линтинг

```bash
npm run lint
```

### Проверка ссылок

```bash
RUN_LINK_CHECK=true npm run build
```

### Валидация изображений

Автоматически проверяется при сборке через `remarkValidateImages` плагин.

## Deployment

Документация автоматически деплоится при push в `main` ветку.

**Процесс:**
1. Commit изменений
2. Push в репозиторий
3. GitHub Actions запускает сборку
4. Деплой на production сервер
5. Доступно на docs.ad-quest.ru

## Контрибьюция

### Добавление новой страницы

1. Создайте файл `.mdx` в соответствующей папке
2. Добавьте frontmatter с метаданными
3. Напишите контент
4. Добавьте скриншоты если нужно
5. Проверьте локально
6. Создайте pull request

### Обновление существующей страницы

1. Найдите файл в `src/content/docs/`
2. Внесите изменения
3. Проверьте локально
4. Создайте pull request

### Добавление компонента

1. Создайте компонент в `src/components/`
2. Экспортируйте в `src/components/index.ts`
3. Добавьте документацию использования
4. Создайте примеры
5. Создайте pull request

## Поддержка

Вопросы по документации:
- Email: info@ad-quest.ru
- GitHub Issues: [github.com/adquest/adquest-docs](https://github.com/adquest/adquest-docs)
