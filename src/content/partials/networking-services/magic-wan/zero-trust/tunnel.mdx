---
params:
  - productName
  - tunnelURL
  - gatewayURL
  - privateRoutesURL
  - greIpsecURL
  - warpURL
  - cloudflareTunnelURL
  - tracerouteURL
---

import { Render } from "~/components"

{props.productName} can be used together with <a href={props.tunnelURL}>Cloudflare Tunnel</a> for easy access between your networks and applications.

By default, TCP, UDP, and ICMP traffic routed through {props.productName} tunnels and destined to routes behind Cloudflare Tunnel will be proxied/filtered through <a href={props.gatewayURL}>Cloudflare Gateway</a>.

## Cloudflare Tunnel and Magic Networking Route interactions

<a href={props.privateRoutesURL}>Private network routes</a> are evaluated together across Cloudflare Tunnel and Magic Networking routing tables. If traffic matches either a Cloudflare Tunnel route (in any virtual network) or a Magic Networking route, then the matched route will determine the next-hop.

To design solutions where a destination IP may match both a Cloudflare Tunnel private network route and a Magic Networking route, consult your solutions engineer for guidance.

## Test `cloudflared` tunnel integration

To check if a `cloudflared` tunnel is working properly with your {props.productName} connection, open a browser from a host behind your customer premise equipment, and browse to the `cloudflared` tunnel endpoint.

For example, imagine you have a Cloudflare Tunnel set up with a private network CIDR of `10.1.2.3/32`, a static route defined in {props.productName} for `10.1.2.3/24`, and the device you are trying to connect to is a web server. You can test connectivity to the web server by using a browser to load `https://10.1.2.3`. If the page loads correctly, your Cloudflare Tunnel is working properly. In this scenario, you have overlapping routes defined for Cloudflare Tunnel and {props.productName}.

As mentioned above, if you have overlapping routes in your {props.productName} and Cloudflare Tunnel routing configurations, Cloudflare Tunnel will take precedence. This happens whenever a `cloudflared` tunnel CIDR matches a packet, regardless of prefix length. For example, a `cloudflared` tunnel with prefix `10.1.2.0/24` will take precedence over a static route configured to `10.1.2.4/32`, sending packets over a GRE tunnel.

For more information, refer to <a href={props.privateRoutesURL}>Connect private networks</a>.

<Render
	file="traceroute"
	product="networking-services"
	params={{
		productName: props.productName,
		greIpsecURL: props.greIpsecURL,
		warpURL: props.warpURL,
		cloudflareTunnelURL: props.cloudflareTunnelURL,
		tracerouteURL: props.tracerouteURL
		}}
	/>
