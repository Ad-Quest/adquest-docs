---
import StarlightPage from "@astrojs/starlight/components/StarlightPage.astro";

import HeroImageDark from "~/assets/Dev-Docs-Header-Illustration-Dark-Mode-cropped.svg";
import HeroImageLight from "~/assets/Dev-Docs-Header-Illustration-Light-Mode-cropped.svg";

import {
	FourCardGrid,
	ListCard,
	LinkTitleCard,
} from "~/components";

const frontmatter = {
	title: "Документация AdQuest",
	description: "Руководства и инструкции по продуктам AdQuest",
	template: "splash",
	hero: {
		title: "Добро пожаловать в AdQuest",
		tagline: "Руководства и инструкции по продуктам AdQuest",
		image: {
			dark: HeroImageDark,
			light: HeroImageLight,
		},
	},
} as const;

const topCards = [
	{
		title: "Избранное",
		links: [
			{ text: "AdQuest Widget", href: "/adquest-widget/" },
			{ text: "Быстрый старт", href: "/adquest-widget/#быстрый-старт" },
			{ text: "Справочник API", href: "/adquest-widget/api/" },
		],
		cta: {
			text: "Вся документация",
			href: "/adquest-widget/",
		},
	},
	{
		title: "Начало работы",
		links: [
			{ text: "Конфигурация", href: "/adquest-widget/configuration/" },
			{ text: "Примеры интеграции", href: "/adquest-widget/patterns/" },
			{ text: "Решение проблем", href: "/adquest-widget/gotchas/" },
		],
		cta: {
			text: "Смотреть руководства",
			href: "/adquest-widget/",
		},
	},
	{
		title: "Ресурсы",
		links: [
			{ text: "Панель управления", href: "https://dashboard.ad-quest.ru", target: "_blank" },
			{ text: "Документация API", href: "/adquest-widget/api/" },
			{ text: "Поддержка", href: "mailto:support@ad-quest.ru" },
		],
		cta: {
			text: "Получить помощь",
			href: "/adquest-widget/gotchas/",
		},
	},
	{
		title: "Продукты",
		links: [
			{ text: "AdQuest Widget", href: "/adquest-widget/" },
			{ text: "Защита от ботов", href: "/adquest-widget/#защитные-механизмы" },
			{ text: "Монетизация", href: "/adquest-widget/#монетизация" },
		],
		cta: {
			text: "Обзор продуктов",
			href: "/adquest-widget/",
		},
	},
];
---

<StarlightPage frontmatter={frontmatter}>
	<FourCardGrid>
		{
			topCards.map((card) => (
				<ListCard title={card.title}>
					<ul>
						{card.links.map((link) => (
							<li>
								<a
									href={link.href}
									target={link.target}
									class="hover:text-accent! dark:text-accent-high! text-black! dark:hover:text-black!"
								>
									{link.text}
								</a>
							</li>
						))}
					</ul>
					<p>
						<strong>
							<a href={card.cta.href}>{card.cta.text}</a>
						</strong>
					</p>
				</ListCard>
			))
		}
	</FourCardGrid>
	
	<!-- Быстрый старт -->
	<div class="my-16">
		<h2 class="text-3xl font-bold mb-6 text-center">Быстрый старт</h2>
		<p class="text-center text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto">
			Интегрируйте AdQuest Widget на ваш сайт за 4 простых шага
		</p>
		
		<div class="bg-gray-50 dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
			<h3 class="text-xl font-semibold mb-4">Базовая интеграция (HTML)</h3>
			
			<div class="space-y-4">
				<div>
					<p class="text-sm text-gray-600 dark:text-gray-400 mb-2">1. Подключите CSS</p>
					<pre class="bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto"><code class="language-html">&lt;link rel="stylesheet" href="https://cdn.ad-quest.ru/widget/v1/adquest-widget.min.css"&gt;</code></pre>
				</div>
				
				<div>
					<p class="text-sm text-gray-600 dark:text-gray-400 mb-2">2. Добавьте контейнер</p>
					<pre class="bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto"><code class="language-html">&lt;div id="adquest-captcha"&gt;&lt;/div&gt;</code></pre>
				</div>
				
				<div>
					<p class="text-sm text-gray-600 dark:text-gray-400 mb-2">3. Подключите JS</p>
					<pre class="bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto"><code class="language-html">&lt;script src="https://cdn.ad-quest.ru/widget/v1/adquest-widget.min.js"&gt;&lt;/script&gt;</code></pre>
				</div>
				
				<div>
					<p class="text-sm text-gray-600 dark:text-gray-400 mb-2">4. Инициализируйте виджет</p>
					<pre class="bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto"><code class="language-javascript">&lt;script&gt;
AdQuest.init(&#123;
  siteKey: 'YOUR_SITE_KEY',
  container: document.getElementById('adquest-captcha'),
  onSuccess: (token) =&gt; &#123;
    console.log('Токен:', token);
  &#125;
&#125;);
&lt;/script&gt;</code></pre>
				</div>
			</div>
			
			<div class="mt-6 pt-6 border-t border-gray-200 dark:border-gray-700">
				<p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
					<strong>Готово!</strong> Виджет готов к использованию. Получите ваш <code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-sm">siteKey</code> в <a href="https://dashboard.ad-quest.ru" target="_blank" class="text-blue-600 dark:text-orange-500 hover:underline">панели управления</a>.
				</p>
				<div class="flex gap-4">
					<a href="/adquest-widget/#быстрый-старт" class="inline-block bg-blue-600 dark:bg-orange-600 text-white px-6 py-2 rounded hover:bg-blue-700 dark:hover:bg-orange-700 transition-colors">
						Подробная документация →
					</a>
					<a href="/adquest-widget/patterns/" class="inline-block border border-gray-300 dark:border-gray-600 px-6 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
						Примеры для фреймворков
					</a>
				</div>
			</div>
		</div>
	</div>
	
	<div class="my-12">
		<hr />
		<div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
			<LinkTitleCard 
				title="AdQuest Widget" 
				href="/adquest-widget/"
			>
				Защита от ботов с монетизацией. Показывайте рекламу вместо CAPTCHA и зарабатывайте на своем трафике.
			</LinkTitleCard>

			<LinkTitleCard 
				title="Руководство по быстрому старту" 
				href="/adquest-widget/#быстрый-старт"
			>
				Начните работу с AdQuest Widget за несколько минут. Простая интеграция с любым сайтом или приложением.
			</LinkTitleCard>

			<LinkTitleCard 
				title="Справочник API" 
				href="/adquest-widget/api/"
			>
				Полная документация JavaScript API с TypeScript типами и серверными эндпоинтами.
			</LinkTitleCard>

			<LinkTitleCard 
				title="Примеры интеграции" 
				href="/adquest-widget/patterns/"
			>
				Готовые примеры для React, Vue, Next.js и других популярных фреймворков.
			</LinkTitleCard>
		</div>
	</div>
</StarlightPage>
