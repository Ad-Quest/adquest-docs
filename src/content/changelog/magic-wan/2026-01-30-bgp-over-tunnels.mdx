---
title: BGP over GRE and IPsec tunnels
description: Configure BGP peering over IPsec and GRE tunnels for dynamic routing
date: 2026-01-30
products:
  - magic-wan
  - magic-transit
  - cloudflare-one
---

Magic WAN and Magic Transit customers can use the Cloudflare dashboard to configure and manage BGP peering between their networks and their Magic routing table when using IPsec and GRE tunnel on-ramps (beta).

Using BGP peering allows customers to:

- Automate the process of adding or removing networks and subnets.
- Take advantage of failure detection and session recovery features.

With this functionality, customers can:

- Establish an eBGP session between their devices and the Magic WAN / Magic Transit service when connected via IPsec and GRE tunnel on-ramps.
- Secure the session by MD5 authentication to prevent misconfigurations.
- Exchange routes dynamically between their devices and their Magic routing table.

For configuration details, refer to:

- [Configure BGP routes for Magic WAN](/magic-wan/configuration/manually/how-to/configure-routes/#configure-bgp-routes)
- [Configure BGP routes for Magic Transit](/magic-transit/how-to/configure-routes/#configure-bgp-routes)
