---
import StarlightPage from "@astrojs/starlight/components/StarlightPage.astro";

import HeroImageDark from "~/assets/Dev-Docs-Header-Illustration-Dark-Mode-cropped.svg";
import HeroImageLight from "~/assets/Dev-Docs-Header-Illustration-Light-Mode-cropped.svg";

import {
	FourCardGrid,
	ListCard,
	LinkTitleCard,
} from "~/components";

const frontmatter = {
	title: "Документация AdQuest",
	description: "Рекламная платформа нового поколения с монетизацией через интерактивные CAPTCHA",
	template: "splash",
	hero: {
		title: "Документация AdQuest",
		tagline: "Рекламная платформа нового поколения с монетизацией через интерактивные CAPTCHA",
		image: {
			dark: HeroImageDark,
			light: HeroImageLight,
		},
	},
} as const;

const topCards = [
	{
		title: "Избранное",
		links: [
			{ text: "Быстрый старт для издателей", href: "/crm/publisher/" },
			{ text: "Интеграция виджета", href: "/adquest-widget/" },
			{ text: "API Reference", href: "/adquest-widget/api/" },
		],
		cta: {
			text: "Начать работу",
			href: "/crm/",
		},
	},
	{
		title: "Начало работы",
		links: [
			{ text: "Для издателей", href: "/crm/publisher/" },
			{ text: "Для рекламодателей", href: "/crm/advertiser/" },
			{ text: "Для агентств", href: "/crm/agency/" },
		],
		cta: {
			text: "Смотреть руководства",
			href: "/crm/",
		},
	},
	{
		title: "Ресурсы",
		links: [
			{ text: "Регистрация и вход", href: "/crm/auth/" },
			{ text: "Примеры интеграции", href: "/adquest-widget/patterns/" },
			{ text: "Решение проблем", href: "/adquest-widget/gotchas/" },
		],
		cta: {
			text: "Получить помощь",
			href: "/adquest-widget/gotchas/",
		},
	},
	{
		title: "Продукты",
		links: [
			{ text: "AdQuest CRM", href: "/crm/" },
			{ text: "AdQuest Widget", href: "/adquest-widget/" },
			{ text: "Панель управления", href: "https://ad-quest.ru/auth/login", target: "_blank" },
		],
		cta: {
			text: "Обзор продуктов",
			href: "/crm/",
		},
	},
];
---

<StarlightPage frontmatter={frontmatter}>
	<FourCardGrid>
		{
			topCards.map((card) => (
				<ListCard title={card.title}>
					<ul>
						{card.links.map((link) => (
							<li>
								<a
									href={link.href}
									target={link.target}
									class="hover:text-accent! dark:text-accent-high! text-black! dark:hover:text-black!"
								>
									{link.text}
								</a>
							</li>
						))}
					</ul>
					<p>
						<strong>
							<a href={card.cta.href}>{card.cta.text}</a>
						</strong>
					</p>
				</ListCard>
			))
		}
	</FourCardGrid>
	
	<!-- Быстрый старт -->
	<div class="my-16">
		<h2 class="text-3xl font-bold mb-6 text-center">Быстрый старт</h2>
		<p class="text-center text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto">
			Начните работу с AdQuest за несколько простых шагов
		</p>
		
		<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
			<!-- Для издателей -->
			<div class="bg-gray-50 dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
				<h3 class="text-xl font-semibold mb-4">Для издателей</h3>
				<ol class="space-y-3 text-sm text-gray-600 dark:text-gray-400">
					<li><strong>1.</strong> Зарегистрируйтесь в <a href="https://ad-quest.ru/auth/register" target="_blank" class="text-black dark:text-white hover:underline">панели управления</a></li>
					<li><strong>2.</strong> Добавьте свой сайт</li>
					<li><strong>3.</strong> Получите Site Key</li>
					<li><strong>4.</strong> Встройте виджет на сайт</li>
					<li><strong>5.</strong> Начните получать доход</li>
				</ol>
				<div class="mt-6">
					<a href="/crm/publisher/" class="btn-brand inline-flex items-center justify-center rounded-lg px-6 py-2 font-semibold no-underline text-white">
						Руководство для издателей →
					</a>
				</div>
			</div>
			
			<!-- Для рекламодателей -->
			<div class="bg-gray-50 dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
				<h3 class="text-xl font-semibold mb-4">Для рекламодателей</h3>
				<ol class="space-y-3 text-sm text-gray-600 dark:text-gray-400">
					<li><strong>1.</strong> Зарегистрируйтесь в <a href="https://ad-quest.ru/auth/register" target="_blank" class="text-black dark:text-white hover:underline">панели управления</a></li>
					<li><strong>2.</strong> Пополните баланс</li>
					<li><strong>3.</strong> Создайте рекламную кампанию</li>
					<li><strong>4.</strong> Настройте таргетинг</li>
					<li><strong>5.</strong> Запустите и отслеживайте результаты</li>
				</ol>
				<div class="mt-6">
					<a href="/crm/advertiser/" class="btn-brand inline-flex items-center justify-center rounded-lg px-6 py-2 font-semibold no-underline text-white">
						Руководство для рекламодателей →
					</a>
				</div>
			</div>
		</div>
		
		<!-- Интеграция виджета -->
		<div class="mt-8 bg-gray-50 dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
			<h3 class="text-xl font-semibold mb-4">Интеграция AdQuest Widget</h3>
			<p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
				Базовая интеграция на любой сайт за 4 простых шага:
			</p>
			
			<div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
				<div>
					<p class="text-gray-600 dark:text-gray-400 mb-2"><strong>1.</strong> Подключите CSS</p>
					<pre class="bg-white dark:bg-gray-800 p-3 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto text-xs"><code>&lt;link rel="stylesheet" href="https://cdn.ad-quest.ru/widget/v1/adquest-widget.min.css"&gt;</code></pre>
				</div>
				
				<div>
					<p class="text-gray-600 dark:text-gray-400 mb-2"><strong>2.</strong> Добавьте контейнер</p>
					<pre class="bg-white dark:bg-gray-800 p-3 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto text-xs"><code>&lt;div id="adquest-captcha"&gt;&lt;/div&gt;</code></pre>
				</div>
				
				<div>
					<p class="text-gray-600 dark:text-gray-400 mb-2"><strong>3.</strong> Подключите JS</p>
					<pre class="bg-white dark:bg-gray-800 p-3 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto text-xs"><code>&lt;script src="https://cdn.ad-quest.ru/widget/v1/adquest-widget.min.js"&gt;&lt;/script&gt;</code></pre>
				</div>
				
				<div>
					<p class="text-gray-600 dark:text-gray-400 mb-2"><strong>4.</strong> Инициализируйте</p>
					<pre class="bg-white dark:bg-gray-800 p-3 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto text-xs"><code>AdQuest.init(&#123;
  siteKey: 'YOUR_SITE_KEY',
  container: document.getElementById('adquest-captcha')
&#125;);</code></pre>
				</div>
			</div>
			
			<div class="mt-6 flex gap-4">
				<a href="/adquest-widget/" class="btn-brand inline-flex items-center justify-center rounded-lg px-6 py-2 font-semibold no-underline text-white">
					Полная документация →
				</a>
				<a href="/adquest-widget/patterns/" class="inline-flex items-center justify-center rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-transparent px-6 py-2 font-semibold no-underline hover:bg-gray-100 dark:hover:bg-gray-800 dark:text-white transition-all">
					Примеры для фреймворков
				</a>
			</div>
		</div>
	</div>
	
	<div class="my-12">
		<hr />
		<div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
			<LinkTitleCard 
				title="AdQuest CRM" 
				href="/crm/"
			>
				Панель управления для издателей, рекламодателей и агентств. Управляйте сайтами, кампаниями и получайте доход.
			</LinkTitleCard>

			<LinkTitleCard 
				title="AdQuest Widget" 
				href="/adquest-widget/"
			>
				JavaScript виджет для защиты от ботов с монетизацией. Показывайте рекламу вместо CAPTCHA.
			</LinkTitleCard>

			<LinkTitleCard 
				title="Для издателей" 
				href="/crm/publisher/"
			>
				Добавьте сайт, получите Site Key и начните зарабатывать на показах рекламы.
			</LinkTitleCard>

			<LinkTitleCard 
				title="Для рекламодателей" 
				href="/crm/advertiser/"
			>
				Создавайте кампании, настраивайте таргетинг и привлекайте целевую аудиторию.
			</LinkTitleCard>
		</div>
	</div>
</StarlightPage>
