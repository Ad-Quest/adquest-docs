---
pcx_content_type: how-to
title: Programmable Flow Protection (Beta)
sidebar:
  order: 3
  label: Programmable Flow Protection
  badge:
    text: Beta
head:
  - tag: title
    content: Configure Programmable Flow Protection via API

---

Use the [Cloudflare API](/api/) to configure Programmable Flow Protection via API.

For examples of API calls, refer to the [Programmable Flow Protection](/ddos-protection/advanced-ddos-systems/overview/programmable-flow-protection/) documentation.

## Endpoints

To obtain the complete endpoint, append the Programmable Flow Protection API endpoints listed below to the Cloudflare API base URL:

```txt
https://api.cloudflare.com/client/v4
```

The `{account_id}` argument is the [account ID](/fundamentals/account/find-account-and-zone-ids/) (a hexadecimal string). You can find this value in the Cloudflare dashboard.

The following table summarizes the available operations.

### Program API endpoints

| Operation | Verb + Endpoint |
| --- | --- |
| Upload a program | `POST /accounts/{account_id}/magic/programmable_flow_protection/configs/programs` |
| Update a program | `PATCH /accounts/{account_id}/magic/programmable_flow_protection/configs/programs/{program_id}` |
| List programs | `GET /accounts/{account_id}/magic/programmable_flow_protection/configs/programs` |
| Delete a program | `DELETE /accounts/{account_id}/magic/programmable_flow_protection/configs/programs/{program_id}` |
| Delete all programs | `DELETE /accounts/{account_id}/magic/programmable_flow_protection/configs/programs` |

### Rule API endpoints

| Operation | Verb + Endpoint |
| --- | --- |
| Create a rule | `POST /accounts/{account_id}/magic/programmable_flow_protection/configs/rules` |
| Update a rule | `PATCH /accounts/{account_id}/magic/programmable_flow_protection/configs/rules/{rule_id}` |
| List rules | `GET /accounts/{account_id}/magic/programmable_flow_protection/configs/rules` |
| Delete a rule | `DELETE /accounts/{account_id}/magic/programmable_flow_protection/configs/rules/{rule_id}` |
| Delete all rules | `DELETE /accounts/{account_id}/magic/programmable_flow_protection/configs/rules` |

### Debug Packet CAPture (PCAP) API endpoint

| Operation | Verb + Endpoint |
| --- | --- |
| Debug Packet CAPture (PCAP) | `POST /accounts/{account_id}/magic/programmable_flow_protection/configs/programs/{program_id}/pcap?ip_offset={ip_offset_value}` |