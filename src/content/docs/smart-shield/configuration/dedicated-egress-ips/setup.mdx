---
title: Setup
pcx_content_type: reference
sidebar:
  order: 5
head:
  - tag: title
    content: Set up Dedicated CDN Egress IPs
---


import { APIRequest, Render } from "~/components";

You can use the [Edit Zone Settings API endpoint](/api/resources/zones/subresources/settings/methods/edit/) to set up Dedicated CDN Egress IPs (formerly known as Aegis). If you are not familiar with how Cloudflare API works, refer to [Fundamentals](/fundamentals/api/).

:::note[Enterprise-only]
Dedicated CDN Egress IPs (DCEI) are currently available to Enterprise customers. Contact your account team to request access.
:::

## Requirements

- The Dedicated CDN Egress IPs (DCEI) zone setting is only available within Cloudflare accounts that own leased IPs, or accounts to which a [BYOIP prefix](/byoip/) has been delegated. If you wish to use Dedicated CDN Egress IPs for zones that do not meet this criteria, contact your account team.
- <Render file="dcei-pool-requirements" product="smart-shield" />

:::caution
You must allowlist the IP addresses from this pool in your infrastructure before linking it to a zone. If you skip this step, traffic will not reach your origin, causing errors.
:::

## Turn on DCEI for a zone

1. Contact your account team to get the ID for your dedicated egress pool.
2. Make a `PATCH` request to the [Edit Zone Setting](/api/resources/zones/subresources/settings/methods/edit/) endpoint:
- Specify `aegis` as the setting ID in the URL.
- In the request body, set `enabled` to `true` and use the ID from the previous step as `pool_id`.

<APIRequest
  path="/zones/{zone_id}/settings/{setting_id}"
  method="PATCH"
  json={{
		  "id": "aegis",
			"value": {
				"enabled": true,
				"pool_id": "<YOUR_EGRESS_POOL_ID>",
				},
	}}
	parameters={{
    setting_id: "aegis",
  }}
/>

## Check your IPs

<Render
  file="check-leased-ips"
	product="byoip"
	params={{
		product: "dedicated IPs for CDN egress"
	}}
/>

If you are using BYOIP, refer to **BYOIP prefixes** instead.