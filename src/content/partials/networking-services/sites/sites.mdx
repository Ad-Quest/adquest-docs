---
params:
  - magicWord
  - greIpsecTunnelsURL
  - connectorURL
  - cniURL
  - connectorName
  - magicTunnelHcsURL
---

import { Markdown, Render, DashButton } from "~/components";

Sites represent the local network of a data center, office, or other physical location, and combine all on-ramps available there. Sites also allow you to quickly check the state of your on-ramps and set up health alert settings so that you get notified when there are issues with the site's on-ramps.

To use a site, start by setting up your on-ramps. On-ramps can be:
- <a href={props.greIpsecTunnelsURL}>GRE or IPsec tunnels</a>
- <a href={props.connectorURL}>{props.connectorName}</a>
- Direct <a href={props.cniURL}>CNI link</a>

Before creating a site, ensure you have set up at least one on-ramp. Then, follow these steps:

## Add a site

{ props.magicWord === "WAN Tunnels" ? (
	<>
	<Markdown
		text={`
		1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).
		2. Go to **Insights** > **Network visibility**.
		3. In **Network overview**, select **Add site**.
		4. Add a name and description for your new site. Optionally, you can also add the geographical coordinates for your site in **Latitude** and **Longitude**. If you add geographical coordinates, your site's location will appear in the map once created.
		5. Select **Create and continue**.
		6. Choose one or more on-ramps for your site from the list. Remember to only choose the on-ramps available to that particular site, as the list might include on-ramps available on other locations.
		7. Select **Continue**.
		8. In **Define alert settings** you set up alerts to notify you when there are issues with your site's on-ramps. If you want to set up alerts later, select **Skip this for now** to complete your setup. Otherwise, continue reading.
		9. In **Magic WAN Health Check Alert** > **Notification name**, enter a name for the site's alert.
		10. Under **Alert settings**, choose how you want to be notified when there is an issue. You can add webhooks as well as email addresses.
		11. In **Alert sensitivity level** define the threshold for Magic Tunnel health alerts to be fired. For details, refer to [How Cloudflare calculates Magic Tunnel health alerts](/magic-wan/reference/how-cloudflare-calculates-magic-tunnel-health-alerts/).
		12. Select **Complete setup** to finish setting up your site.
		`}
		inline={false}
	/>
	</>
) : (
	<>
	<Markdown
		text={`
		1. Go to the **Network health** page.
		`}
		inline={false}
	/>
	<DashButton url="/?to=/:account/networking-insights/health" />

		<Markdown
		text={`
		2. In **Network overview**, select **Add a site**.
		3. Add a name and description for your new site. Optionally, you can also add the geographical coordinates for your site in **Latitude** and **Longitude**. If you add geographical coordinates, your site's location will appear in the map once created.
		4. Select **Create and continue**.
		5. Choose one or more on-ramps for your site from the list. Remember to only choose the on-ramps available to that particular site, as the list might include on-ramps available on other locations.
		6. Select **Continue**.
		7. In **Define alert settings** you set up alerts to notify you when there are issues with your site's on-ramps. If you want to set up alerts later, select **Skip this for now** to complete your setup. Otherwise, continue reading.
		8. In **Magic WAN Health Check Alert** > **Notification name**, enter a name for the site's alert.
		9. Under **Alert settings**, choose how you want to be notified when there is an issue. You can add webhooks as well as email addresses.
		10. In **Alert sensitivity level** define the threshold for Magic Tunnel health alerts to be fired. For details, refer to [How Cloudflare calculates Magic Tunnel health alerts](/magic-wan/reference/how-cloudflare-calculates-magic-tunnel-health-alerts/).
		11. Select **Complete setup** to finish setting up your site.
		`}
		inline={false}
	/>
	</>
)
}

Your site is now set up. If you have other sites you need to set up, repeat the steps above. If you did not set up alerts, we strongly recommend that you do it. Otherwise you will not be notified when there is a problem with one of your on-ramps.

---

## Network overview

<Render
	file="analytics/site-analytics"
	product="networking-services"
	params={{
		instructions: "",
		magicWord: props.magicWord,
		networkOverviewPageName: props.magicWord === "WAN Tunnels" ? "Network visibility" : "Network overview (beta)",
		magicTunnelHcsURL: props.magicTunnelHcsURL,
		setGeoCoordinatesURL: "#set-geographic-coordinates"
		}}
/>

---

## Edit a site

### Add or remove on-ramps

{ props.magicWord === "WAN Tunnels" ? (
	<>
	<Markdown
		text={`
		1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).
		2. Go to **Insights** > **Network visibility**.
		3. In **Network overview** > **Traffic overview**, find your site > select the three dots in front of it > **Edit**.
		4. Select **On-ramps**.
		5. Select **Add** to add a new on-ramp.
		6. If you want to remove an on-ramp, select the three dots in front of your on-ramp > **Remove**.
		`}
		inline={false}
	/>
	</>
) : (
	<>
	<Markdown
		text={`
		1. Go to the **Network health** page.
		`}
		inline={false}
	/>

	<DashButton url="/?to=/:account/networking-insights/health" />

	<Markdown
		text={`
		2. Go to **Network overview** > **Traffic overview**.
		3. Find your site > select the three dots in front of it > **Edit**.
		3. Select **On-ramps**.
		4. Select **Add** to add a new on-ramp.
		5. If you want to remove an on-ramp, select the three dots in front of your on-ramp > **Remove**.
		`}
		inline={false}
	/>
	</>
)
}

### Set geographic coordinates

If you add geographic coordinates to your site, it will appear in the Network map. To set up or edit geographic coordinates to an existing site:

{ props.magicWord === "WAN Tunnels" ? (
	<>
	<Markdown
		text={`
		1. Go to **Insights** > **Network visibility**.
		2. In **Network overview** > **Traffic overview**, find your site > select the three dots in front of it > **Edit**.
		`}
		inline={false}
	/>
	</>
) : (
	<>
	<Markdown
		text={`
		1. Go to the **Network health** page.
		`}
		inline={false}
	/>
	<DashButton url="/?to=/:account/networking-insights/health" />
		<Markdown
		text={`
		2. Go to **Network overview** > **Traffic overview**.
		3. Find your site > select the three dots in front of it > **Edit**.
		`}
		inline={false}
	/>
	</>
)
}
3. In **Basic information**, edit your site's **Latitude** and **Longitude** coordinates.
4. Select **Save**.

### Set thresholds for site health

<Render
	file="analytics/set-thresholds-site-health"
	product="networking-services"
	params={{
		productName: "Magic WAN",
		magicTunnelHcsURL: props.magicTunnelHcsURL
	}}
/>
